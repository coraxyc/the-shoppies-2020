(this["webpackJsonpshoppies-2020"]=this["webpackJsonpshoppies-2020"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),i=(n(12),n(4)),l=n(1);n(13);var u=function(e){return r.a.createElement("div",{className:"Card"},r.a.createElement("div",{className:"Card_title"},e.isBold?r.a.createElement("b",null,e.title):e.title),e.children)};n(14),n(15);var s=function(e){var t=e.addNominatedMovie,n=e.data,o=e.error,c=e.isNominateDisabled,i=Object(a.useState)(new Array(n.length).fill(!1)),u=Object(l.a)(i,2),s=u[0],d=u[1];return r.a.createElement("div",{className:"Dropdown"},n.length>0?r.a.createElement("div",{className:"Dropdown_body"},null===n||void 0===n?void 0:n.map((function(e,n){return r.a.createElement("div",{className:"Dropdown_row",key:e.id,onMouseEnter:function(){return function(e){var t=[];t.fill(!1),t[e]=!0,d(t)}(n)},onMouseLeave:function(){return function(){var e=[];e.fill(!1),d(e)}()},onClick:function(){return t(e)}},"".concat(e.title," (").concat(e.year,")"),s[n]&&r.a.createElement("button",{onClick:function(){return t(e)},disabled:c(e)},"Nominate"))}))):r.a.createElement("div",{className:"Dropdown_error"},o||"Couldn't find any movies for this title. Try another title."))};var d=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(a.useRef)(),u=function(t){c(i.current.contains(t.target)&&e.isSearchQueryMinLength)};return Object(a.useEffect)((function(){return document.addEventListener("mousedown",u),document.addEventListener("keydown",u),function(){document.removeEventListener("mousedown",u),document.addEventListener("keydown",u)}}),[e.isSearchQueryMinLength]),r.a.createElement("div",{ref:i},r.a.createElement("div",{className:"Searchbar ".concat(o?"Searchbar__hasDropdown":"")},r.a.createElement("i",{className:"fa fa-search"}),r.a.createElement("input",{type:"search",className:"Searchbar_input",onChange:function(t){return e.setSearchQuery(t.target.value)},placeholder:o?"":"Nominate a movie"})),o&&r.a.createElement("div",null,r.a.createElement(s,{addNominatedMovie:e.addNominatedMovie,data:e.data,error:e.error,isNominateDisabled:e.isNominateDisabled})))};n(16);var m=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),m=s[0],f=s[1],h=Object(a.useState)(""),v=Object(l.a)(h,2),b=v[0],p=v[1],E=Object(a.useState)([]),w=Object(l.a)(E,2),N=w[0],y=w[1],j=Object(a.useState)(!1),g=Object(l.a)(j,2),O=g[0],S=g[1],k=Object(a.useState)(!1),D=Object(l.a)(k,2),L=D[0],M=D[1];return Object(a.useEffect)((function(){if(b.length<3)return f("Please search for a longer title name."),o([]),void S(!1);M(n.length>0&&n.filter((function(e){return e.title.toLowerCase().includes(b.toLowerCase())})).length>0),S(!0),fetch("https://www.omdbapi.com/?s=".concat(b,"&apikey=").concat("9510083")).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){if("False"===e.Response)L||(f(e.Error),o([]));else{var t=e.Search.reduce((function(e,t){return[].concat(Object(i.a)(e),[{title:t.Title,year:t.Year,id:t.imdbID}])}),[]);t.sort((function(e,t){return e.title<t.title?-1:1})),o(t)}})).catch((function(e){var t=e.message;L||(f(t),o([]))}))}),[b]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App_column"},r.a.createElement("h1",null,"The Shoppies"),r.a.createElement(d,{addNominatedMovie:function(e){5===N.length?alert("You can only have up to ".concat(5," nominations.")):y([].concat(Object(i.a)(N),[e]))},data:n,error:m,isNominateDisabled:function(e){return N.filter((function(t){return t.id===e.id})).length>0},isSearchQueryMinLength:O,setSearchQuery:p}),r.a.createElement("div",{className:"App_nominations"},r.a.createElement(u,{title:"Nominations",isBold:!0},N.length>0?r.a.createElement("ul",null,N.map((function(e){return r.a.createElement("div",{className:"App_row",key:e.id},r.a.createElement("li",null,"".concat(e.title," (").concat(e.year,")")),r.a.createElement("button",{onClick:function(){return function(e){if(null!==e&&void 0!==e){var t=e.id,n=N.filter((function(e){return e.id!==t}));y(n)}}(e)}},"Remove"))}))):r.a.createElement("div",null,"You don't have any nominations yet. You can nominate up to ".concat(5," movies."))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.95b64153.chunk.js.map